<div class="game-container">
  <div *ngIf="game?.state === 'playing'" class="players-container card">
    <div class="players-list">
      <div class="player-item" *ngFor="let p of game?.players" [ngClass]="{'current-player': currentPlayer.id === p.id}">
        <span class="player-name">{{p.name}}</span>
        <span class="player-score">{{p.score}}</span>
      </div>
    </div>
  </div>
  <div class="title center"><h1>{{title}}</h1></div>
  <div class="card-container card">
    <div class="start-container" *ngIf="game?.state === 'waiting'">
      <div class="team-container">
        <div class="team-title"><h2>Team 1</h2></div>
        <div class="players">
          <div class="player-item" *ngFor="let player of game.team1">{{player.name}}</div>
        </div>
        <div class="button-container"><button mat-raised-button (click)="joinTeam(1)">Join</button></div>
        <div class="team-title"><h2>Team 2</h2></div>
        <div class="players">
          <div class="player-item" *ngFor="let player of game.team2">{{player.name}}</div>
        </div>
        <div class="button-container"><button mat-raised-button (click)="joinTeam(2)">Join</button></div>
      </div>
    </div>
    <div class="playing-container" *ngIf="game?.state === 'playing'">
      <div class="score">{{game?.turnScore}}</div>
      <div class="timer">{{formatSeconds(game?.timer)}}</div>
      <div *ngIf="!myTeam">
        <div class="game-card">
          <div class="hint" *ngFor="let hint of game.word?.hints">{{ hint }}</div>
        </div>
        <div class="center btn-row"><button mat-raised-button (click)="badWord()">Said it!</button></div>
      </div>

      <div *ngIf="myTurn">
        <div class="player-container">
          <div class="card-container">
            <div class="game-card">
              <div class="word">{{ game.word?.word }}</div>
              <div class="hint" *ngFor="let hint of game.word?.hints">{{ hint }}</div>
            </div>
            <button mat-raised-button (click)="skipWord()">Skip</button>
          </div>
          <div *ngIf="myTeam" class="message-container">
            <div class="messages" #messageListElement>
              <p *ngFor="let m of messageList">{{m}}</p>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="!myTurn && myTeam">
        <div *ngIf="myTeam" class="message-container">
          <div class="messages" #messageListElement>
            <p *ngFor="let m of messageList">{{m}}</p>
          </div>

          <div>
            <input [(ngModel)]="newMessage" (keyup)="$event.keyCode == 13 && sendMessage()">
            <button mat-raised-button (click)="sendMessage()">Guess</button>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="game?.state === 'between_round'">
      <h2>Between Rounds</h2>
      <div>Turn Score: {{game?.turnScore}}</div>
      <div>Team 1 Score: {{game?.team1Score}} </div>
      <div>Team 2 Score: {{game?.team2Score}} </div>
      <div *ngIf="myTurn">
        <button mat-raised-button (click)="startMyTurn()">Let's Go</button>
      </div>
    </div>
  </div>

  <div class="start" *ngIf="game?.state === 'waiting'">
    <button mat-raised-button (click)="startGame()">Start Game</button>
  </div>
</div>

<div class="skip-turn" *ngIf="game?.state === 'playing'">
  <button *ngIf="myTurn" mat-raised-button (click)="skipTurn()">Skip My Turn</button>
</div>

